paths:
  /api/analyze/total-revenue:
    post:
      tags:
        - Analyze
      summary: Thống kê tổng doanh thu
      description: Lấy tổng doanh thu trong khoảng thời gian
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                start_date:
                  type: string
                  format: date
                  description: Ngày bắt đầu
                end_date:
                  type: string
                  format: date
                  description: Ngày kết thúc
              required:
                - start_date
                - end_date
            example:
              start_date: "2024-01-01"
              end_date: "2024-12-31"
      responses:
        "200":
          description: Thống kê thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                  message:
                    type: string
                  data:
                    type: object
                    properties:
                      revenue:
                        type: object
                        properties:
                          total_amount:
                            type: string
                            example: "5160296.00"
                          total_payment:
                            type: integer
                            example: 4
                      payments:
                        type: array
                        items:
                          type: object
                          properties:
                            payment_id:
                              type: integer
                            invoice_id:
                              type: integer
                            branch_name:
                              type: string
                            customer_name:
                              type: string
                            paid_amount:
                              type: string
                            payment_method:
                              type: string
                            paid_at:
                              type: string
                              format: date-time
                            status:
                              type: string
              example:
                code: 200
                message: "Fetched total revenue successfully"
                data:
                  revenue:
                    total_amount: "5160296.00"
                    total_payment: 4
                  payments:
                    - payment_id: 1
                      invoice_id: 1
                      branch_name: "Branch A"
                      customer_name: "Tran Thi B"
                      paid_amount: "600206.00"
                      payment_method: "Cash"
                      paid_at: "2025-12-18T20:01:22.000Z"
                      status: "Completed"
                    - payment_id: 2
                      invoice_id: 2
                      branch_name: "Branch A"
                      customer_name: "Le Van C"
                      paid_amount: "240000.00"
                      payment_method: "Cash"
                      paid_at: "2025-12-18T20:01:38.000Z"
                      status: "Completed"
                    - payment_id: 3
                      invoice_id: 3
                      branch_name: "Branch A"
                      customer_name: "Le Van C"
                      paid_amount: "4320000.00"
                      payment_method: "Cash"
                      paid_at: "2025-12-18T20:02:28.000Z"
                      status: "Completed"
                    - payment_id: 4
                      invoice_id: 6
                      branch_name: "Branch A"
                      customer_name: "Tran Thi B"
                      paid_amount: "90.00"
                      payment_method: "Cash"
                      paid_at: "2025-12-18T20:04:31.000Z"
                      status: "Completed"
        "500":
          description: Lỗi server

  /api/analyze/revenue-by-branch:
    post:
      tags:
        - Analyze
      summary: Thống kê doanh thu theo chi nhánh
      description: Lấy doanh thu của từng chi nhánh trong khoảng thời gian
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                start_date:
                  type: string
                  format: date
                  description: Ngày bắt đầu
                end_date:
                  type: string
                  format: date
                  description: Ngày kết thúc
              required:
                - start_date
                - end_date
            example:
              start_date: "2024-01-01"
              end_date: "2024-12-31"
      responses:
        "200":
          description: Thống kê thành công
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                  message:
                    type: string
                  data:
                    type: object
                    properties:
                      revenue:
                        type: array
                        items:
                          type: object
                          properties:
                            branch_id:
                              type: integer
                            branch_name:
                              type: string
                            total_amount:
                              type: string
                            total_payment:
                              type: integer
                      payments:
                        type: array
                        items:
                          type: object
                          properties:
                            payment_id:
                              type: integer
                            invoice_id:
                              type: integer
                            branch_name:
                              type: string
                            customer_name:
                              type: string
                            paid_amount:
                              type: string
                            payment_method:
                              type: string
                            paid_at:
                              type: string
                              format: date-time
                            status:
                              type: string
              example:
                code: 200
                message: "Fetched revenue by branch successfully"
                data:
                  revenue:
                    - branch_id: 1
                      branch_name: "Branch A"
                      total_amount: "5160296.00"
                      total_payment: 4
                  payments:
                    - payment_id: 1
                      invoice_id: 1
                      branch_name: "Branch A"
                      customer_name: "Tran Thi B"
                      paid_amount: "600206.00"
                      payment_method: "Cash"
                      paid_at: "2025-12-18T20:01:22.000Z"
                      status: "Completed"
