# Invoices API
paths:
  /api/invoices/add-invoice:
    post:
      tags:
        - Invoices
      summary: Tạo hóa đơn mới
      description: Tạo một hóa đơn mới trong hệ thống
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                brand_id:
                  type: integer
                  description: ID chi nhánh
                customer_id:
                  type: integer
                  description: ID khách hàng
                employee_id:
                  type: integer
                  description: ID nhân viên
                promotion_id:
                  type: integer
                  nullable: true
                  description: ID khuyến mãi (tùy chọn)
                payment_status:
                  type: string
                  description: Trạng thái thanh toán
              required:
                - brand_id
                - customer_id
                - employee_id
                - payment_status
            example:
              brand_id: 1
              customer_id: 1
              employee_id: 1
              promotion_id: null
              payment_status: "Pending"
      responses:
        "200":
          description: Tạo hóa đơn thành công
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiResponse"
              example:
                code: 200
                message: "Invoice added successfully"
                data:
                  invoice_id: 1
                  branch_id: 1
                  customer_id: 1
                  employee_id: 1
                  created_at: "2024-01-15T10:00:00"
                  total_amount: 0
                  discount_amount: 0
                  final_amount: 0
                  payment_status: "Pending"
        "500":
          description: Lỗi server

  /api/invoices/add-invoice-details:
    post:
      tags:
        - Invoices
      summary: Thêm chi tiết hóa đơn
      description: Thêm sản phẩm hoặc dịch vụ vào hóa đơn
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/InvoiceDetails"
            example:
              invoice_id: 1
              item_type: "product"
              service_id: null
              product_id: 1
              quantity: 2
      responses:
        "200":
          description: Thêm chi tiết thành công
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiResponse"
        "500":
          description: Lỗi server

  /api/invoices/get-invoice-list:
    get:
      tags:
        - Invoices
      summary: Lấy danh sách hóa đơn
      description: Lấy tất cả các hóa đơn trong hệ thống
      responses:
        "200":
          description: Lấy danh sách thành công
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiResponse"
        "500":
          description: Lỗi server

  /api/invoices/get-invoice-by-id/{invoice_id}:
    get:
      tags:
        - Invoices
      summary: Lấy hóa đơn theo ID
      description: Lấy thông tin chi tiết của một hóa đơn
      parameters:
        - name: invoice_id
          in: path
          required: true
          schema:
            type: integer
          description: ID hóa đơn
          example: 1
      responses:
        "200":
          description: Lấy hóa đơn thành công
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiResponse"
        "500":
          description: Lỗi server

  /api/invoices/get-invoice-details-by-id/{invoice_id}:
    get:
      tags:
        - Invoices
      summary: Lấy chi tiết hóa đơn theo ID
      description: Lấy danh sách các item trong một hóa đơn
      parameters:
        - name: invoice_id
          in: path
          required: true
          schema:
            type: integer
          description: ID hóa đơn
          example: 1
      responses:
        "200":
          description: Lấy chi tiết thành công
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiResponse"
        "500":
          description: Lỗi server

  /api/invoices/update-invoice-payment-status:
    patch:
      tags:
        - Invoices
      summary: Cập nhật trạng thái thanh toán
      description: Cập nhật trạng thái thanh toán của hóa đơn
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                invoice_id:
                  type: integer
                  description: ID hóa đơn
                payment_status:
                  type: string
                  description: Trạng thái thanh toán mới
              required:
                - invoice_id
                - payment_status
            example:
              invoice_id: 1
              payment_status: "Paid"
      responses:
        "200":
          description: Cập nhật thành công
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiResponse"
        "500":
          description: Lỗi server
